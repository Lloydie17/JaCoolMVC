@{
    ViewBag.Title = "Franchising";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section NavContent {
    <nav id="nav">
		<ul>
			<li><a href="~/Home/Index">Menu</a></li>
			<li><a href="~/Home/Products">Products</a></li>
            <li class="current"><a href="~/Home/AboutUs">Franchising</a></li>
		</ul>
	</nav>
}

@section MainContent {
    <section id="main">
        <div class="box2">
            <h3 style="text-align:center; font-size:50px; margin:20px;">Franchising Inquiry</h3>
            <br />
            <div class="form-franchise">
                <form method="post">
                    <label>Name of Applicant</label>
                    <input type="text" name="name" class="form-style franchise-form" placeholder="Name of Applicant" id="name" />
                    <label>Email</label>
                    <input type="text" name="email" class="form-style franchise-form" placeholder="Your Email" id="email" />
                    <label>Contact Number</label>
                    <input type="text" name="contact" class="form-style franchise-form" placeholder="Contact Number" id="contact" />
                    <label>Proposed Location</label>
                    <input type="text" name="location" class="form-style franchise-form" placeholder="Proposed Location" id="location" />
                    <label>Size in sqm?</label>
                    <input type="text" name="size" class="form-style franchise-form" placeholder="Size in sqm" id="size" />
                    <div class="center">
                        <input type="submit" name="btnFranch" class="btn mt-4 fbtn center" value="Submit" onclick="submitFranchise()" />
                    </div>
                </form>
            </div>
        </div>
    </section>
}

@section Scripts {
    <script>
        function submitFranchise() {
            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var contact = document.getElementById('contact').value;
            var location = document.getElementById('location').value;
            var size = document.getElementById('size').value;

            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    console.log("Franchise inquiry submitted successfully");
                    alert("Franchise inquiry submitted successfully");
                    document.getElementById('name').value = "";
                    document.getElementById('email').value = "";
                    document.getElementById('contact').value = "";
                    document.getElementById('location').value = "";
                    document.getElementById('size').value = "";
                }
            };
            xmlhttp.open("POST", "/Home/SubmitFranchise", true);
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.send("name=" + name + "&email=" + email + "&contact=" + contact + "&location=" + location + "&size=" + size);
        }
    </script>
}
